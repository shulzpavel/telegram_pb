# Офлайн-сборка: сначала выполни ./scripts/download-wheels.sh
FROM python:3.11-slim

WORKDIR /app

COPY requirements.txt .
COPY docker-wheels /wheels

RUN pip install --no-index --find-links=/wheels -r requirements.txt

COPY app/ ./app/
COPY run.py .
COPY config.py .
COPY session_store.py .
COPY scripts/ ./scripts/

EXPOSE 8080
CMD ["python", "run.py"]
